<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>breakdown</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <div class="background">
    <!-- <img src="mixedtest3whitevercopy.png"> -->
    <img src="mixedtest2copy3.png">
  </div>

  <div class="containers">
    <div class="nav">
      <!-- <div class="home">
        <a href="index.html">home</a>
      </div> -->
      <div class="links">
        <a href="index.html">breakdown</a>
        <a href="koko.html">silent abyss</a>
        <a href="notyue.html">drowning sorrows</a>
        <!-- <a href="nao.html">nao</a> -->
        <a href="noise.html">eternal wavering</a>
      </div>
    </div>

    <div class="title">
      <h1>breakdown</h1>
      <p>give it a shot and illustrate your struggles in life</p>
    </div>
  </div>

  <canvas id="myCanvas"></canvas>

  <script type="text/javascript">
    // Corrected canvas selection
    const canvas = document.getElementById('myCanvas');
    const ctx = canvas.getContext("2d");

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    ctx.fillStyle = "black";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.lineJoin = "round";
    ctx.lineCap = "round";
    ctx.lineWidth = 20; // Adjusted line width

    ctx.globalCompositeOperation = "destination-out";

    let isDrawing = false;
    let lastX = 0;
    let lastY = 0;

    function draw(e) {
      if (!isDrawing) return;
      ctx.beginPath();
      ctx.moveTo(lastX, lastY);
      ctx.lineTo(e.clientX, e.clientY); // Used clientX and clientY instead of offsetX and offsetY
      ctx.stroke();
      [lastX, lastY] = [e.clientX, e.clientY];
    }

    canvas.addEventListener("mousedown", (e) => {
      isDrawing = true;
      [lastX, lastY] = [e.clientX, e.clientY];
    });

    canvas.addEventListener("mousemove", draw);
    canvas.addEventListener("mouseup", () => (isDrawing = false));
    canvas.addEventListener("mouseout", () => (isDrawing = false));
  </script> 

</body>
</html>